<!DOCTYPE html>
<html style="background-color:#e999ff">
<head>
	<title>German Sentences</title>
</head>
<body>
	<header>
		<button style='border-radius:25px;background-color:white' id="home">Home</button>
	</header>
	<br>
	<br>
	<script>
		//Setting Home button
		document.getElementById("home").addEventListener("click", function(){
			window.open("index.html", "_self")
		})
	</script>
	
	<label style='color:black'><u>To start, press NEW and then NEXT SENTENCE </u></label>
	
	<br>
	<br>
	
	<button id='newButton' style='border-radius:25px;background-color:#ffffff' onclick="getSentences()">NEW</button>
	<button id='nextButton' style='border-radius:25px;background-color:#ffffff'>NEXT SENTENCE</button>
	
	<br>
	<br>

	<div style="color:black;display:inline;"><u>Select the speed: </u></div><input type="range" min="25" max="200" value="75" id="speechSpeed">
	
	<br>
	<br>
	
	<label id='labelInformation' style='display:none;color:black;' >Sentences left: </label>
	<label id='sentenceNumber' style='display:none;color:black;'>5</label>
	
	<script type="text/javascript">

		var sentence1 = "Wie heißt du?"
		var sentence2 = "Wie geht's?"
		var sentence3 = "Wie alt bist du?"
		var sentence4 = "Wann hast du Geburtstag?"
		var sentence5 = "Wo wohnst du?"
		var sentence6 = "Was ist dein Lieblingsfach?"
		var sentence7 = "Wie findest du Deutsch?"
		var sentence8 = "Wann hast du Deutsch?"
		var sentence9 = "Wass isst und trinkst du in der Pause?"
		var sentence10 = "Was trägst du in der Schule?"

		var alreadyDoneList = []
		var x = 1
		var i = 1
		var listPosition = 0

		document.getElementById("nextButton").addEventListener("click", function(){
			document.getElementById("sentenceNumber").innerHTML = JSON.stringify(5-i)
			document.getElementById("sentenceNumber").style.display = "inline"
			document.getElementById("labelInformation").style.display = "inline"

			if(document.getElementById("sentenceNumber").innerHTML == "-1"){
				document.getElementById("labelInformation").innerHTML = "Press 'NEW' to get 5 new sentences."
				document.getElementById("sentenceNumber").style.display = "none"
			}else{
				console.log("alreadyDoneList")
				console.log(alreadyDoneList)
				console.log("listPosition")
				console.log(listPosition)
				var y = alreadyDoneList[listPosition]
				var msg = new SpeechSynthesisUtterance(eval("sentence" + y))
				msg.lang = "de"			
				msg.rate = document.getElementById("speechSpeed").value	/ 100	
				window.speechSynthesis.speak(msg)
				listPosition += 1
			}

			i += 1
		})

		function getSentences(){
			i = 1
			listPosition = 0
			document.getElementById("sentenceNumber").innerHTML = "5"
			document.getElementById("labelInformation").innerHTML = "Sentences left: "
			document.getElementById("sentenceNumber").style.display = "inline"
			document.getElementById("labelInformation").style.display = "inline"			
			while(x <= 5){
				var randomNumber = Math.floor((1 + Math.random() * 10))
				if(alreadyDoneList.includes(randomNumber) == false){
					alreadyDoneList.push(randomNumber)
					x += 1
				}
			}
		}	
	</script>
</body>
</html>