<!DOCTYPE html>
<html style="background-color:#b3ffd7">
<head>
	<title>French</title>
</head>
<body>

	<form style="background-color:#e5d4fa"> 			
		<section><input type="checkbox" id="firstCheck" > First Class</section>
		<br>
		<section><input type="checkbox" id="lastCheck"> Last Class</section>
		<br>
		<section><input type="checkbox" id="allCheck"> All Classes</section>
	</form>

	<section id="deutsche1Section" style="display:none">
		<h3><u>Numbers 0-19</u></h3>
		<div id='englishWord1'></div>
		<input type='text' id='myInput1' onkeydown = "if (event.keyCode == 13)document.getElementById('checkButton1').click()">
		<button id='checkButton1' style='border-radius:25px' onclick="check1()">CHECK</button>
		<button id='nextButton1' style='border-radius:25px;display:none' onclick="firstCheckInter()">NEXT</button>
		<div id='resultsLabel1'></div>
	</section>	
	<section id="deutsche2Section" style="display:none">
		<h3><u>Greetings</u></h3>
		<div id='englishWord2'></div>
		<input type='text' id='myInput2' onkeydown = "if (event.keyCode == 13)document.getElementById('checkButton2').click()">
		<button id='checkButton2' style='border-radius:25px'>CHECK</button>
		<button id='nextButton2' style='border-radius:25px;display:none'>NEXT</button>
		<div id='resultsLabel2'></div>
	</section>
	<section id="deutsche3Section" style="display:none">
		<h3><u>Numbers 20-100</u></h3>
		<div id='englishWord3'></div>
		<input type='text' id='myInput3' onkeydown = "if (event.keyCode == 13)document.getElementById('checkButton3').click()">
		<button id='checkButton3' style='border-radius:25px'>CHECK</button>
		<button id='nextButton3' style='border-radius:25px;display:none'>NEXT</button>
		<div id='resultsLabel3'></div>
	</section>	
	<section id="deutsche4Section" style="display:none">
		<h3><u>Months</u></h3>
		<div id='englishWord4'></div>
		<input type='text' id='myInput4' onkeydown = "if (event.keyCode == 13)document.getElementById('checkButton4').click()">
		<button id='checkButton4' style='border-radius:25px'>CHECK</button>
		<button id='nextButton4' style='border-radius:25px;display:none'>NEXT</button>
		<div id='resultsLabel4'></div>
	</section>
	<section id="deutsche5Section" style="display:none">
		<h3><u>The Verb 'Sein'</u></h3>
		<div id='englishWord5'></div>
		<input type='text' id='myInput5' onkeydown = "if (event.keyCode == 13)document.getElementById('checkButton5').click()">
		<button id='checkButton5' style='border-radius:25px'>CHECK</button>
		<button id='nextButton5' style='border-radius:25px;display:none'>NEXT</button>
		<div id='resultsLabel5'></div>
	</section>	
	<section id="deutsche6Section" style="display:none">
		<h3><u>Dates</u></h3>
		<div id='englishWord6'></div>
		<input type='text' id='myInput6' onkeydown = "if (event.keyCode == 13)document.getElementById('checkButton6').click()">
		<button id='checkButton6' style='border-radius:25px'>CHECK</button>
		<button id='nextButton6' style='border-radius:25px;display:none'>NEXT</button>
		<div id='resultsLabel6'></div>
	</section>
	<section id="deutsche7Section" style="display:none">
		<h3><u>The Verb 'Haben'</u></h3>
		<div id='englishWord7'></div>
		<input type='text' id='myInput7' onkeydown = "if (event.keyCode == 13)document.getElementById('checkButton7').click()">
		<button id='checkButton7' style='border-radius:25px'>CHECK</button>
		<button id='nextButton7' style='border-radius:25px;display:none'>NEXT</button>
		<div id='resultsLabel7'></div>
	</section>	
	<section id="deutsche8Section" style="display:none">
		<h3><u>Countries</u></h3>
		<div id='englishWord8'></div>
		<input type='text' id='myInput8' onkeydown = "if (event.keyCode == 13)document.getElementById('checkButton8').click()">
		<button id='checkButton8' style='border-radius:25px'>CHECK</button>
		<button id='nextButton8' style='border-radius:25px;display:none'>NEXT</button>
		<div id='resultsLabel8'></div>
	</section>

	<script>
		var numOfLessons = 0

		function Lesson(num, teacher, json, title) {
 			this.num = num
  			this.teacher = teacher  			
  			this.json = json
  			this.title = title
		}
		
		var deutsche1 = new Lesson(1, "Frau Sheikh", "https://api.myjson.com/bins/houcp", "Numbers 0-19") ; numOfLessons++ 
		var deutsche2 = new Lesson(2, "Frau King", "https://api.myjson.com/bins/a9v5x", "Greetings") ; numOfLessons++ 
		var deutsche3 = new Lesson(3, "Frau King", "https://api.myjson.com/bins/luvl5", "Numbers 20-100") ; numOfLessons++ 
		var deutsche4 = new Lesson(4, "Frau Sheikh", "https://api.myjson.com/bins/1dwe6h", "Months") ; numOfLessons++ 	
		var deutsche5 = new Lesson(5, "Frau Sheikh", "https://api.myjson.com/bins/6hw6h", "The Verb 'Sein'") ; numOfLessons++ 		
		var deutsche6 = new Lesson(6, "Frau Sheikh", "https://api.myjson.com/bins/lz5wp", "Dates") ; numOfLessons++ 	
		var deutsche7 = new Lesson(7, "Frau King", "https://api.myjson.com/bins/18eab9", "The Verb 'Haben'") ; numOfLessons++ 	
		var deutsche8 = new Lesson(8, "Frau Sheikh", "https://api.myjson.com/bins/pkfm1", "Countries") ; numOfLessons++ 		

		window.localStorage.setItem("numOfLessons",  numOfLessons)
	</script>

	
	<script>
		var deutsche1Dictionary = {} ; fetch(deutsche1.json).then(function(response){return response.json()}).then(function(myJson){Object.keys(myJson).forEach(function(key){deutsche1Dictionary[key] = myJson[key]})})

	    var deutsche2Dictionary = {} ; fetch(deutsche2.json).then(function(response){return response.json()}).then(function(myJson){Object.keys(myJson).forEach(function(key){deutsche2Dictionary[key] = myJson[key]})})	    

	    var deutsche3Dictionary = {} ; fetch(deutsche3.json).then(function(response){return response.json()}).then(function(myJson){Object.keys(myJson).forEach(function(key){deutsche3Dictionary[key] = myJson[key]})})

	   	var deutsche4Dictionary = {} ; fetch(deutsche4.json).then(function(response){return response.json()}).then(function(myJson){Object.keys(myJson).forEach(function(key){deutsche4Dictionary[key] = myJson[key]})})

	   	var deutsche5Dictionary = {} ; fetch(deutsche5.json).then(function(response){return response.json()}).then(function(myJson){Object.keys(myJson).forEach(function(key){deutsche5Dictionary[key] = myJson[key]})})

	   	var deutsche6Dictionary = {} ; fetch(deutsche6.json).then(function(response){return response.json()}).then(function(myJson){Object.keys(myJson).forEach(function(key){deutsche6Dictionary[key] = myJson[key]})})

	   	var deutsche7Dictionary = {} ; fetch(deutsche7.json).then(function(response){return response.json()}).then(function(myJson){Object.keys(myJson).forEach(function(key){deutsche7Dictionary[key] = myJson[key]})})

	   	var deutsche8Dictionary = {} ; fetch(deutsche8.json).then(function(response){return response.json()}).then(function(myJson){Object.keys(myJson).forEach(function(key){deutsche8Dictionary[key] = myJson[key]})})

		var numOfLessons = window.localStorage.getItem("numOfLessons")

		document.getElementById("firstCheck").addEventListener( "change", function(){
			if(this.checked) {				
 				//var numOfKeys = (Object.keys(deutsche1Dictionary)).length
 				//var randomNumber = Math.floor((Math.random() * numOfKeys) + 1)
				//document.getElementById("deutsche1Section").style = "display:block"
				//document.getElementById("englishWord1").innerHTML = deutsche1Dictionary[randomNumber]
				//window.localStorage.setItem("randomNumber",  randomNumber)
				firstCheckInter()

			}else{
				document.getElementById("deutsche1Section").style = "display:none"
				}
		})

		function firstCheckInter(){
			document.getElementById("myInput1").value = ""
			document.getElementById("resultsLabel1").innerHTML = ""
			document.getElementById("nextButton1").style = "display:none"

			var numOfKeys = (Object.keys(deutsche1Dictionary)).length
			var listOfVals = []
			for (var key in deutsche1Dictionary) {
			    if (deutsche1Dictionary.hasOwnProperty(key)) {
			        listOfVals.push( [key] );
			    }
			}
			var randomNumber = Math.floor((Math.random() * numOfKeys) + 1)
			document.getElementById("deutsche1Section").style = "display:block"
			document.getElementById("englishWord1").innerHTML = deutsche1Dictionary[listOfVals[randomNumber]]
		}

		document.getElementById("allCheck").addEventListener( "change", function(){
	    	if(this.checked) {
	       		for (let step = 1; step < numOfLessons + 1; step++) {
				 	document.getElementById("deutsche" + step + "Section").style = "display:block"
				}
	    	} else {
	       		for (let step = 1; step < numOfLessons + 1; step++) {
				 	document.getElementById("deutsche" + step + "Section").style = "display:none"
				}
	    	}
		})

		document.getElementById("lastCheck").addEventListener( "change", function(){
			if(this.checked) {
				document.getElementById("deutsche" + numOfLessons + "Section").style = "display:block"
			}else{
				document.getElementById("deutsche" + numOfLessons + "Section").style = "display:none"
			}
	    })

		function check1(){
			var randomNumber = window.localStorage.getItem("randomNumber")
			var correctAns = document.getElementById("englishWord1").innerHTML 
			var correctAnsTrue = deutsche1Dictionary[correctAns]
			console.log(correctAnsTrue) // <-------------- Work here now
			var userInput1 = document.getElementById("myInput1").value
			if(correctAnsTrue == userInput1){
				document.getElementById("resultsLabel1").innerHTML = "Well Done"
				document.getElementById("resultsLabel1").style = "color:green"
				document.getElementById("nextButton1").style = "display:block"
			}else{
				document.getElementById("resultsLabel1").innerHTML = "Try Again"
				document.getElementById("resultsLabel1").style = "color:red"
			}
		}


	</script>
</body>
</html>
