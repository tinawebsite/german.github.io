<!DOCTYPE html>
<html style="background-color:#b3ffd7">
<head>
	<title>French</title>
</head>
<body>

	<form style="background-color:#b3fcff"> 			
		<section>
	  		<input type="checkbox" id="firstCheck" > First Class
		</section>
		
		<br>

		<section>
	  		<input type="checkbox" id="lastCheck"> Last Class
		</section>

		<br>

		<section>
	  		<input type="checkbox" id="allCheck"> All Classes
		</section>
	</form>
	<h4 id="testText">It did not work</h4>

	<script>
		var numOfLessons = 0

		function Lesson(num, teacher, json, title) {
 			this.num = num
  			this.teacher = teacher  			
  			this.json = json
  			this.title = title
		}
		
			var deutsche1 = new Lesson(1, "Frau Sheikh", "https://api.myjson.com/bins/houcp", "Numbers 0-19") ; var numOfLessons = numOfLessons + 1
			var deutsche2 = new Lesson(2, "Frau Sheikh", "https://api.myjson.com/bins/a9v5x", "Greetings") ; var numOfLessons = numOfLessons + 1
			var deutsche3 = new Lesson(3, "Frau King", "https://api.myjson.com/bins/luvl5", "Numbers 20-100") ; var numOfLessons = numOfLessons + 1
			var deutsche4 = new Lesson(4, "Frau Sheikh", "https://api.myjson.com/bins/1dwe6h", "Months") ; var numOfLessons = numOfLessons + 1	
			var deutsche5 = new Lesson(5, "Frau Sheikh", "https://api.myjson.com/bins/lz5wp", "Dates") ; var numOfLessons = numOfLessons + 1	
			var deutsche6 = new Lesson(6, "Frau Sheikh", "https://api.myjson.com/bins/6hw6h", "The Verb 'Sein'") ; var numOfLessons = numOfLessons + 1		

		window.localStorage.setItem("numOfLessons",  numOfLessons)
	</script>

	
	<script>
		document.getElementById("firstCheck").addEventListener( "change", function(){
			fetch(deutsche1.json).then(function(response){return response.json()}).then(function(myJson){console.log(myJson)})
		})

		document.getElementById("lastCheck").addEventListener( "change", function(){
			commonLesson = 'deutsche'
			str = commonLesson+' = ' + 'deutsche' + numOfLessons
			var lastResult = eval(str)
			fetch(lastResult.json).then(function(response){return response.json()}).then(function(myJson){document.getElementById('testText').innerHTML = JSON.stringify(myJson)})
		})

		document.getElementById("allCheck").addEventListener( "change", function(){
	    	if(this.checked) {
	        	console.log("is checked")
	        	console.log("At the moment there are " + window.localStorage.getItem("numOfLessons") + " lessons.")
	        	
	    	} else {
	        	console.log("is not checked")
	    	}
		})
	</script>
</body>
</html>